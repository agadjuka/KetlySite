# Исправление проблемы с blur-эффектами на мобильных устройствах

## Проблема

На некоторых мобильных устройствах элементы с CSS `blur()` фильтром отображаются как квадраты вместо кругов при динамическом изменении `backgroundColor` через CSS transition.

## Причина

Когда происходит анимация `backgroundColor` на элементе с `blur()` и `rounded-full`, некоторые мобильные браузеры перерисовывают blur-фильтр в процессе transition. В этот момент `border-radius` может временно "сломаться", показывая квадратную форму.

## Решение

**Никогда не анимировать цвет элемента с blur. Вместо этого использовать отдельные слои с переключением через opacity.**

### Было (проблемный код):

```jsx
// Один элемент с меняющимся цветом
<div 
  className="blur-[80px] rounded-full"
  style={{
    backgroundColor: isDemoMode ? 'rgba(250, 204, 21, 0.2)' : 'rgba(37, 99, 235, 0.1)',
    transition: 'background-color 1000ms ease-in-out',
  }}
/>
```

### Стало (исправленный код):

```jsx
// Отдельные слои для каждого цвета, переключаемые через opacity
<div 
  className="blur-[80px] rounded-full"
  style={{
    backgroundColor: 'rgba(37, 99, 235, 0.1)', // Синий - всегда один цвет
    opacity: !isDemoMode ? 1 : 0,
    transition: 'opacity 1000ms ease-in-out',
  }}
/>
<div 
  className="blur-[80px] rounded-full"
  style={{
    backgroundColor: 'rgba(250, 204, 21, 0.2)', // Желтый - всегда один цвет
    opacity: isDemoMode ? 1 : 0,
    transition: 'opacity 1000ms ease-in-out',
  }}
/>
```

## Почему это работает

1. Каждый слой рендерится сразу при загрузке страницы с правильной круглой формой
2. Цвет элементов никогда не меняется — они статичны
3. Transition на `opacity` не затрагивает blur-фильтр и border-radius
4. Браузеру не нужно перерисовывать blur при переключении

## Общее правило

При работе с CSS `filter: blur()` на элементах, которые должны менять цвет:
- Создавать отдельный слой для каждого варианта цвета
- Переключать слои через `opacity: 0/1`
- Не использовать transition на `background-color`, `background`, или других свойств, влияющих на отрисовку









